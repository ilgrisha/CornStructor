<!-- File: frontend/src/app/primers/components/history/history.component.html -->
<!-- Version: v0.2.0 -->
<section class="history">
  <header>
    <h2>Primer Design History</h2>
    <button class="btn" (click)="fetch()">Refresh</button>
  </header>

  <div *ngIf="loading" class="loading">Loadingâ€¦</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <table *ngIf="!loading && runs?.length">
    <thead>
      <tr>
        <th>Created</th>
        <th>Start</th>
        <th>End</th>
        <th>Digest</th>
        <th>Status</th>
        <th>Open</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of runs">
        <td>{{ r.createdAt | date:'short' }}</td>
        <td>{{ r.targetStart }}</td>
        <td>{{ r.targetEnd }}</td>
        <td><code>{{ r.sequenceDigest | slice:0:8 }}</code></td>
        <td>{{ r.status }}</td>
        <td><button class="btn" (click)="open(r.id)">Open</button></td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="!loading && !runs?.length" class="empty">No runs yet.</p>
</section>
