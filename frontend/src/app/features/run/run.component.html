<!-- File: frontend/src/app/features/run/run.component.html -->
<!-- Version: v2.6.1 -->
<div class="card">
  <div class="card-header">
    <div class="title">Construction tree design</div>
    <div class="actions">
      <button class="btn" (click)="openHistory()">History</button>
      <button class="btn" (click)="openParameters()">Parameters</button>
      <button class="btn primary" (click)="run()">Start design</button>
    </div>
  </div>

  <div class="note-row">
    <label for="runNote">Run description</label>
    <input
      id="runNote"
      type="text"
      maxlength="255"
      [(ngModel)]="runDescription"
      placeholder="Optional short note to recognize this run"
    />
  </div>

  <!-- Single result button (no list) -->
  <div class="result-bar" *ngIf="api.resultIndexLink()">
    <a class="result-primary"
       [href]="api.resultIndexLink()!"
       target="_blank" rel="noopener noreferrer">
      Open report
    </a>
  </div>

  <!-- Logs -->
  <div #logPane class="log-pane">
    <div *ngFor="let line of api.logLines()" class="log-line">{{ line }}</div>
  </div>
</div>

<!-- History modal -->
<app-runs-history [open]="historyOpen()" (close)="closeHistory()"></app-runs-history>

<!-- Parameters modal -->
<app-parameters-editor [open]="paramsOpen()" (close)="closeParameters()"></app-parameters-editor>
